<app-loading-screen *ngIf="isLoading"></app-loading-screen>

<div class="app-container" *ngIf="!isLoading">
  <header class="app-header" [class.scrolled]="isScrolled">
    <div class="logo">
      <span class="logo-text">cinetex</span>
    </div>
    <nav class="nav-links" [class.mobile-open]="mobileMenuOpen">
      <div class="mobile-search-container" *ngIf="mobileMenuOpen">
        <div class="mobile-search-bar">
          <i class="fas fa-search"></i>
          <input type="text" placeholder="Search movies, shows..." #mobileSearchInput (keyup.enter)="onSearch(mobileSearchInput.value); closeMobileMenu()">
          <button class="search-btn" (click)="onSearch(mobileSearchInput.value); closeMobileMenu()">
            <i class="fas fa-search"></i>
          </button>
        </div>
      </div>
      <a routerLink="/search" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-link" (click)="closeMobileMenu()">
        <span>home</span>
      </a>
      <a routerLink="/lists" routerLinkActive="active" class="nav-link" (click)="closeMobileMenu()">
        <span>my library</span>
      </a>
      <a routerLink="/favorites" routerLinkActive="active" class="nav-link" (click)="closeMobileMenu()">
        <span>favorites</span>
      </a>
      <a routerLink="/rated" routerLinkActive="active" class="nav-link" (click)="closeMobileMenu()">
        <span>rated</span>
      </a>
    </nav>
    <div class="header-right">
      <div class="search-bar">
        <i class="fas fa-search"></i>
        <input type="text" placeholder="Search..." #searchInput (keyup.enter)="onSearch(searchInput.value)">
        <button class="search-btn" (click)="onSearch(searchInput.value)">
          <i class="fas fa-search"></i>
        </button>
      </div>
      <button class="mobile-menu-toggle" (click)="toggleMobileMenu()" [class.open]="mobileMenuOpen">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </header>

  <main class="main-content">
    <router-outlet></router-outlet>
  </main>

  <app-footer></app-footer>
  <app-chatbot></app-chatbot>
</div>
